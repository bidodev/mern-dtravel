(this["webpackJsonpd-travel"]=this["webpackJsonpd-travel"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},115:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),i=a(20),o=a(57),s=a(58);i.b.add(o.a,s.a);var u=a(5),m=a(60),p=a(11),d=a(28),E=a(61),f=a.n(E),v=a(6),b={currentUser:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(v.a)(Object(v.a)({},e),{},{currentUser:t.payload});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{backgrounds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DATA":return Object(v.a)(Object(v.a)({},e),{},{destinations:t.payload});case"SET_BACKGROUNDS":return Object(v.a)(Object(v.a)({},e),{},{backgrounds:t.payload});default:return e}},O={input:null,mood:null,menuItem:"places"},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_INPUT":return Object(v.a)(Object(v.a)({},e),{},{input:t.payload?t.payload:null});case"UPDATE_MOOD":return Object(v.a)(Object(v.a)({},e),{},{mood:t.payload?t.payload:null});case"UPDATE_MENU_ITEM":return Object(v.a)(Object(v.a)({},e),{},{menuItem:t.payload?t.payload:"places"});default:return e}},y=a(24),j=[],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE FAVORITE":var a=e.some((function(e){return e.id===t.payload.id}));return a?Object(y.a)(e).filter((function(e){return e.id!==t.payload.id})):[].concat(Object(y.a)(e),[t.payload]);default:return e}},w={key:"root",storage:f.a,whitelist:["favoritesList","filters"]},S=Object(p.c)({login:g,data:h,filters:_,favoritesList:N}),k=Object(d.a)(w,S);a(77),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var I=Object(p.e)(k,p.d.apply(void 0,[p.a.apply(void 0,[])].concat([]))),x=Object(d.b)(I),A=a(14),T=(a(78),a(12)),U=a.n(T),C=a(16),L=a(3),M=a(4),D=(a(80),a(19)),G=a.n(D),P=(a(81),a(84),function(){var e=Object(C.a)(U.a.mark((function e(t,a){var n,c,r,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=R.doc("/users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return c=t.displayName,r=t.email,l=new Date,e.prev=9,e.next=12,n.set(Object(v.a)({displayName:c,email:r,createdAt:l},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("Error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}());G.a.initializeApp({apiKey:"AIzaSyCMnkIVqXxRuZBmNpM077KJmN7h6UVvLYA",authDomain:"dtravel-db.firebaseapp.com",databaseURL:"https://dtravel-db.firebaseio.com",projectId:"dtravel-db",storageBucket:"dtravel-db.appspot.com",messagingSenderId:"950093241760",appId:"1:950093241760:web:65920908d68eb4f1e898c5",measurementId:"G-CGCYPV1KE9"});var V=G.a.auth(),R=G.a.firestore(),q=new G.a.auth.GoogleAuthProvider;q.setCustomParameters({prompt:"select_account"});var F=function(){return V.signInWithPopup(q)},z=(G.a,a(18)),K=a.n(z),B=a(62);a(102);var H=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement(B.a,{icon:"spinner",className:"icon",spin:!0}))},X=(a(103),function(){var e=Object(u.c)((function(e){return e.login.currentUser}));return c.a.createElement("div",{className:"app__aside__header"},c.a.createElement("nav",{className:"app__aside__header__nav"},c.a.createElement("div",{className:"app__aside__header__nav-icon"},c.a.createElement("img",{src:"./img/dt.svg",alt:""})),c.a.createElement("ul",null,c.a.createElement("div",{className:"app__aside__header__nav-search"},c.a.createElement("ion-icon",{name:"search-outline"})),c.a.createElement(A.c,{to:"/"},"Home"),e?c.a.createElement(A.c,{to:"/favorites"},"Favorites"):null,e?c.a.createElement("button",{className:"option-logged",onClick:function(){return V.signOut()}},"SIGN OUT"):c.a.createElement(A.c,{to:"/login"},"Login"))))}),W=function(){var e=Object(u.c)((function(e){return e.filters.mood})),t=Object(u.c)((function(e){return e.filters.menuItem})),a=Object(u.b)();return c.a.createElement("div",{className:"app__aside__filters"},c.a.createElement("h2",null,"Discover"),c.a.createElement("nav",{onClick:function(e){var t=e.target.value;a({type:"UPDATE_MENU_ITEM",payload:t})}},c.a.createElement("button",{className:"places"===t?"active":"",value:"places"},"Places"),c.a.createElement("button",{className:"experiences"===t?"active":"",value:"experiences"},"Experiences"),c.a.createElement("button",{className:"housings"===t?"active":"",value:"housings"},"Housings")),c.a.createElement("div",{className:"app__aside__filters__mood"},c.a.createElement("ul",{onClick:function(e){var t=e.target.id;a({type:"UPDATE_MOOD",payload:t})}},c.a.createElement("li",{className:"tropical"===e?"active":""},"tropical"===e?c.a.createElement("ion-icon",{id:"tropical",name:"sunny"}):c.a.createElement("ion-icon",{id:"tropical",name:"sunny-outline"})),c.a.createElement("li",{className:"winter"===e?"active":""},"winter"===e?c.a.createElement("ion-icon",{id:"winter",name:"snow"}):c.a.createElement("ion-icon",{id:"winter",name:"snow-outline"})),c.a.createElement("li",{className:"mountain"===e?"active":""},"mountain"===e?c.a.createElement("ion-icon",{id:"mountain",name:"map"}):c.a.createElement("ion-icon",{id:"mountain",name:"map-outline"})),c.a.createElement("li",{className:"cycling"===e?"active":""},"cycling"===e?c.a.createElement("ion-icon",{id:"cycling",name:"bicycle"}):c.a.createElement("ion-icon",{id:"cycling",name:"bicycle-outline"})))))},J=(a(105),function(e){return e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "):"null"}),Y=function(e){var t=e.id,a=e.cover,r=e.productName,l=e.country,i=e.openModal,o=e.type,s=a.url,u=a.description,m=Object(n.useState)(!1),p=Object(L.a)(m,2),d=p[0],E=p[1];return c.a.createElement("div",{className:"card",onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},onClick:function(){return i(e)}},c.a.createElement("img",{className:"img-card",key:t,src:"./img/".concat(o,"/").concat(s),alt:u}),d&&c.a.createElement("div",null,c.a.createElement("li",null,c.a.createElement("h4",null,J(r))),c.a.createElement("li",null,c.a.createElement("ion-icon",{name:"navigate-outline"}),J(l))))},Z=a(23),Q=a.n(Z),$=(a(115),a(63)),ee=function(e){return e>3e3?"Expensive":"Normal"};Q.a.setAppElement("#root");var te=function(e){var t=e.modalIsOpen,a=e.closeModal,n=e.data,r=n._id,l=n.productName,i=n.cover,o=n.imgs,s=n.description,m=n.country,p=n.price,d=n.type,E=n.typeref,f=Object(u.b)(),v=Object(u.c)((function(e){return e.favoritesList})).some((function(e){return e.id===r})),b={showArrows:!0,showStatus:!1,showIndicators:!0,infiniteLoop:!1,showThumbs:!0,useKeyboardArrows:!0,autoPlay:!1,stopOnHover:!0,swipeable:!0,dynamicHeight:!1,emulateTouch:!0,thumbWidth:200,selectedItem:0,interval:6e4,transitionTime:400,swipeScrollTolerance:5};return c.a.createElement(Q.a,{isOpen:t,onRequestClose:a,contentLabel:"Offers Modal",className:"Modal",overlayClassName:"overlay"},c.a.createElement("div",{className:"offers-item"},c.a.createElement("div",{className:"offers-item-title"},c.a.createElement("span",null,l),c.a.createElement("div",null,c.a.createElement("ion-icon",{name:v?"bookmark":"bookmark-outline",onClick:function(){return function(e,t,a){f({type:"TOGGLE FAVORITE",payload:{id:e,name:t,typeref:a}})}(r,l,E)}}),c.a.createElement("ion-icon",{name:"close-circle-outline",onClick:a}))),c.a.createElement($.Carousel,b,o?[i].concat(Object(y.a)(o)).map((function(e){var t=e.url,a=e.description;return c.a.createElement("div",{key:Math.ceil(Math.random())},c.a.createElement("img",{src:"./img/".concat(d,"/").concat(t),loading:"eager",alt:a}),c.a.createElement("p",{className:"legend"},a))})):null),c.a.createElement("div",{className:"exp-infos"},c.a.createElement("li",null,c.a.createElement("ion-icon",{name:"navigate-outline"}),J(m)),c.a.createElement("li",null,c.a.createElement("ion-icon",{name:"cash-outline"}),J(ee(p)))),c.a.createElement("p",{className:"description"},s)))},ae=function(){var e=Object(u.c)((function(e){return e.filters.mood})),t=Object(u.c)((function(e){return e.filters.menuItem})),a=Object(n.useState)([]),r=Object(L.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(!1),s=Object(L.a)(o,2),m=s[0],p=s[1],d=Object(n.useState)({}),E=Object(L.a)(d,2),f=E[0],v=E[1],b=Object(n.useState)(),g=Object(L.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){O(!0),K()("/api/v1/data/".concat(t,"?page=1&limit=2")).then((function(e){var t=e.data.data;i(t.results),setTimeout((function(){O(!1)}),1e3)}))}),[t,e]);var _=function(e){p(!0),v(e)},y=function(){var e=Object(M.g)();return c.a.createElement("button",{type:"button",onClick:function(){e.push(t)}},"Show all ","".concat(t))},j=function(){return c.a.createElement("div",{className:"search-results"},c.a.createElement("h3",null,"Searching for ",e," ",t,"..."),c.a.createElement(H,null))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,{data:f,closeModal:function(){p(!1)},modalIsOpen:m}),c.a.createElement("div",{className:"app__aside__carousel"},h?c.a.createElement(j,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"app__aside__carousel__items"},l.map((function(e){return c.a.createElement(Y,Object.assign({key:e._id},e,{openModal:_,typeref:"housings"}))}))),c.a.createElement("div",{className:"app__aside__carousel__show-offers"},c.a.createElement(y,null)))))},ne=function(){return c.a.createElement("div",{className:"app__aside__code"},c.a.createElement("img",{src:"./img/qr-code.svg",alt:"qr-code"}))},ce=function(){return c.a.createElement("div",{className:"app__aside__footer"},c.a.createElement("div",{className:"app__aside__footer__text"},"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Architecto."))},re=function(){return c.a.createElement("div",{className:"app__aside"},c.a.createElement(X,null),c.a.createElement(W,null),c.a.createElement(ae,null),c.a.createElement(ne,null),c.a.createElement(ce,null))},le=(a(121),a(29));a(122);var ie=function(e){var t=e.children,a=e.isGoogleSingIn,n=e.size,r=Object(le.a)(e,["children","isGoogleSingIn","size"]);return c.a.createElement("button",Object.assign({className:"".concat(a?"google-sign-in":""," ").concat(n||""," custom-button ")},r),t)},oe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"app__main__logo"},c.a.createElement("p",null,"dtravel",c.a.createElement("span",null,"."))),c.a.createElement("div",{className:"app__main__intro"},c.a.createElement("h1",null,"Get ready for your lifetime journey!"),c.a.createElement("h5",null,"Collection of the most beautiful places",c.a.createElement("br",null),"experiences and unusual housing in the world")),c.a.createElement(A.b,{to:"/quiz"},c.a.createElement(ie,{type:"submit",size:"small"},"Get Started")))},se={backgroundSize:"cover",backgroundImage:'linear-gradient(to left bottom,\n            rgba(0, 0, 0, 0.1),\n            rgba(0, 0, 0, 0.7)\n          ), url("'.concat("./background/luca-bravo.jpg",'")')},ue=function(){return c.a.createElement("div",{className:"app__main",style:se},c.a.createElement(oe,null))},me=(a(123),a(124),a(125),function(e){var t=e.handleInputValue,a=e.label,n=Object(le.a)(e,["handleInputValue","label"]);return c.a.createElement("div",{className:"group"},c.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?c.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)}),pe=function(){var e=Object(n.useState)(""),t=Object(L.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(L.a)(l,2),o=i[0],s=i[1],u=function(){var e=Object(C.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,V.signInWithEmailAndPassword(a,o);case 4:r(""),s(""),alert("Logged with Sucess"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error in the login",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target,a=t.value;switch(t.name){case"email":return r(a);case"password":return s(a)}};return c.a.createElement("div",{className:"sign-in"},c.a.createElement("h2",{className:"title"},"I already have an account"),c.a.createElement("span",null,"Sign in with your email and password"),c.a.createElement("form",{onSubmit:u},c.a.createElement(me,{name:"email",type:"email",value:a,required:!0,label:"email",handleInputValue:m}),c.a.createElement(me,{name:"password",type:"password",value:o,required:!0,label:"password",handleInputValue:m}),c.a.createElement("div",{className:"buttons"},c.a.createElement(ie,{type:"submit"},"Sign In"),c.a.createElement(ie,{type:"button",onClick:F,isGoogleSingIn:!0},"Sign in with Google"))))},de=(a(126),function(){var e=Object(n.useState)(""),t=Object(L.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(L.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(L.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(""),f=Object(L.a)(E,2),v=f[0],b=f[1],g=function(){var e=Object(C.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p===v){e.next=4;break}return alert("Passwords don't match..."),e.abrupt("return");case 4:return e.prev=4,e.next=7,V.createUserWithEmailAndPassword(o,p);case 7:return n=e.sent,c=n.user,e.next=11,P(c,{displayName:a});case 11:if(!e.sent){e.next=17;break}r(""),s(""),d(""),b(""),alert("Account Created with Sucess");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("Error creating user",e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,a=t.value;switch(t.name){case"displayName":return r(a);case"email":return s(a);case"password":return d(a);case"confirmPassword":return b(a)}};return c.a.createElement("div",{className:"sign-up"},c.a.createElement("h2",{className:"title"},"I do not have an account"),c.a.createElement("span",null,"Sign up with your email and password"),c.a.createElement("form",{className:"sign-up-form",onSubmit:g},c.a.createElement(me,{type:"text",name:"displayName",value:a,label:"name",handleInputValue:h}),c.a.createElement(me,{type:"email",name:"email",value:o,label:"email",handleInputValue:h}),c.a.createElement(me,{type:"password",name:"password",value:p,label:"password",handleInputValue:h}),c.a.createElement(me,{type:"password",name:"confirmPassword",value:v,label:"repeat password",handleInputValue:h}),c.a.createElement("div",{className:"buttons"},c.a.createElement(ie,{type:"submit"},"Sign Up"))))}),Ee=function(){return c.a.createElement("div",{className:"app__authentication"},c.a.createElement(pe,null),c.a.createElement(de,null))};a(127);var fe=function(){var e=Object(u.c)((function(e){return e.favoritesList})),t=Object(u.c)((function(e){return e.data}));return console.log("data",t),console.log("favoritesList",e),c.a.createElement("div",{className:"wrapper"},c.a.createElement("h2",null,"Your Favorites"),e.map((function(e){return c.a.createElement("h2",null,e.name)})))},ve=(a(128),function(e,t){if(e){var a=[];return e.length>t?(e.split(" ").reduce((function(e,n){return e+n.length<t&&a.push(n),e+n.length}),0),"".concat(a.join(" "),"...")):e}});var be=function(e){var t=e._id,a=e.country,r=e.productName,l=e.description,i=e.cover,o=(e.imgs,e.continent,e.price),s=e.type,u=e.openModal,m=i.url;return c.a.createElement("div",{className:"offer-item",onClick:function(){return u(e)}},c.a.createElement(n.Fragment,null,c.a.createElement("h3",null,J(r)),c.a.createElement("div",{className:"img-container"},c.a.createElement("img",{className:"img-card",key:t,src:"./img/".concat(s,"/").concat(m),alt:l})),c.a.createElement("div",{className:"infos"},c.a.createElement("li",null,c.a.createElement("ion-icon",{name:"navigate-outline"}),J(a)),c.a.createElement("li",null,c.a.createElement("ion-icon",{name:"cash-outline"}),J(ee(o)))),c.a.createElement("p",{className:"description"},ve(l,400))))};a(129);Q.a.setAppElement("#root");var ge=function(e){var t=e.match,a=Object(n.useState)([]),r=Object(L.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(1),s=Object(L.a)(o,2),u=s[0],m=s[1],p=Object(n.useState)(0),d=Object(L.a)(p,2),E=d[0],f=d[1],v=Object(n.useState)(!1),b=Object(L.a)(v,2),g=b[0],h=b[1],O=Object(n.useState)({}),_=Object(L.a)(O,2),y=_[0],j=_[1];Object(n.useEffect)((function(){K()("/api/v1/data".concat(t.path,"?page=").concat(u,"&limit=3")).then((function(e){var t=e.data,a=t.data,n=t.totalItems;f(n),i(a.results)}))}),[t.path,u]);var N=function(){var e=Object(M.g)();return c.a.createElement("div",{className:"close-circle-outline"},c.a.createElement("ion-icon",{name:"close-circle-outline",onClick:function(){e.push("/")}}))},w=function(e){console.log(e),h(!0),j(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,{data:y,closeModal:function(){h(!1)},modalIsOpen:g}),c.a.createElement("div",{className:"offers-wrapper"},c.a.createElement("div",{className:"display"},c.a.createElement(N,null),c.a.createElement("div",{className:"dddd"},l.map((function(e){return c.a.createElement(be,Object.assign({key:e._id},e,{openModal:w}))}))),c.a.createElement("ul",{onClick:function(e){return m(e.target.value)}},function(e){for(var t=[],a=1,n=1;n<e;n+=3)t.push(c.a.createElement("button",{value:a},a)),a++;return t}(E)))))},he=(a(130),function(){return c.a.createElement("div",{className:"app__quiz"},c.a.createElement("h1",null,"Hello"))}),Oe=function(){document.querySelectorAll('.search-box input[type="text"] + span').forEach((function(e){e.addEventListener("click",(function(){e.previousElementSibling.value=""}))}));var e=Object(n.useState)(!0),t=Object(L.a)(e,2),a=t[0],r=t[1],l=Object(u.b)();Object(n.useEffect)((function(){K.a.get("/api/v1/data/backgrounds").then((function(e){var t=e.data.data;l({type:"SET_BACKGROUNDS",payload:t.backgrounds})})).catch((function(e){return console.log(e.message)})),setTimeout((function(){r(!1)}),2e3);var e=V.onAuthStateChanged(function(){var e=Object(C.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,P(t);case 3:e.sent.onSnapshot((function(e){l({type:"LOGIN_USER",payload:Object(v.a)({id:e.id},e.data())})})),e.next=8;break;case 7:l({type:"LOGIN_USER",payload:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[l]);var i=Object(u.c)((function(e){return e.login.currentUser}));return c.a.createElement("div",{className:"app"},a?c.a.createElement(H,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(M.d,null,c.a.createElement(M.b,{exact:!0,path:"/",component:ue}),c.a.createElement(M.b,{exact:!0,path:"/quiz",component:he}),c.a.createElement(M.b,{exact:!0,path:["/places","/experiences","/housings"],component:ge}),c.a.createElement(M.b,{exact:!0,path:"/login",render:function(){return i?c.a.createElement(M.a,{to:"/"}):c.a.createElement(Ee,null)}}),c.a.createElement(M.b,{exact:!0,path:"/favorites",render:function(){return i?c.a.createElement(fe,null):c.a.createElement(Ee,null)}})),c.a.createElement(re,null)))};l.a.render(c.a.createElement(u.a,{store:I},c.a.createElement(A.a,null,c.a.createElement(m.a,{persistor:x},c.a.createElement(Oe,null)))),document.getElementById("root"))},64:function(e,t,a){e.exports=a(131)},80:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.062627cc.chunk.js.map